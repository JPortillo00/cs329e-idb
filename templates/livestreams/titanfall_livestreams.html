<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="../static/css/ModelStyle.css">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/3/w3.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Poppins">
    <script type="text/javascript" src="../static/js/dtable.js"></script>
   <script type="text/javascript" src="../static/js/dtable11.js"></script>
    <script type="text/javascript" src="../static/js/dtable2.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
     <link href="../static/css/NavBar.css" rel="stylesheet">

<title> Genres </title>
</head>

<body>
    <ul id = "navbar">
        <li id = "nav"><a href ={{url_for('index')}}>Streamer Surf</a></li>
        <li id = "nav"><a href ={{url_for('streamers')}}>Streamers</a></li>
        <li id = "nav"><a href ={{url_for('games')}}>Games</a></li>
        <li id = "nav"><a href ={{url_for('genres')}}>Genres</a></li>
        <li id = "nav" style="float:right;"><a href = {{url_for('about')}}>About</a></li>
    </ul>
<center style="font-size: 400%;font-family: Poppins;font-weight: 900;margin-top: 20px;"><a href = {{url_for('titanfall')}}>Titan Fall 2</a> Live Streams</center>

  <div id = "tab" style="margin-top: 30px;font-family: sans-serif;max-width: 1000px;">
  <table id="example" class="table table-striped table-bordered" cellspacing="0" width="100%" >
        <thead>
            <tr>
        <th>User_Image</th>
   <th>Display_Name</th>
    <th>Number of Live Viewers</th> 
    <th>Number of Followers</th>
    <th>Language of Stream</th>
    <th>Live Stream</th>
  </tr>

     </thead>
        
      <tbody>
        

      </tbody>
    </table>
    <script type="text/javascript">
    $(document).ready(function() {
   	var t = $('#example').DataTable();
   	$.get("https://api.twitch.tv/kraken/streams/?game=Titanfall 2&limit=100&client_id=e6xu67x7c493rmp1osdcrnivd3j8g3", function(data){
        for (var i = 0; i <data["streams"].length; i++){
        	var row_data = [];
        row_data.push("<img src ="+data["streams"][i]["channel"]["logo"]+ " " + "width=" + "200 " + "height=" + "150"+">");
			row_data.push("<a href=" +data["streams"][i]["channel"]["url"]+">"+data["streams"][i]["channel"]["display_name"]+"</a>");
      row_data.push(data["streams"][i]["viewers"]);
			row_data.push(data["streams"][i]["channel"]["followers"]);
      row_data.push(data["streams"][i]["channel"]["language"]);
      row_data.push("<iframe src =" + "http://player.twitch.tv/?channel="+data["streams"][i]["channel"]["display_name"]+"&muted=true&autoplay=false"+ " height=" +"150 " + " width=" + "330 " + "frameborder=" +"1 " + "autoplay=" + "false " + "scrolling =" + "no " + "allowfullscreen=" + "true" + ">" + "</iframe>");
      t.row.add(row_data).draw();

  }; });

   });

    </script>

  </div>

</body>
</html> 